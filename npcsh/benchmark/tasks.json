[
  {"id": "shell-01", "category": "shell", "difficulty": "easy",
   "instruction": "Count the number of files in /etc and write just the number to /tmp/result.txt",
   "verify_cmd": "test -f /tmp/result.txt && grep -qE '[0-9]+' /tmp/result.txt",
   "description": "Basic shell command with file output"},

  {"id": "shell-02", "category": "shell", "difficulty": "easy",
   "instruction": "List all .py files in the current directory recursively and write the list to /tmp/pyfiles.txt",
   "verify_cmd": "test -f /tmp/pyfiles.txt && test -s /tmp/pyfiles.txt",
   "description": "Find + redirect"},

  {"id": "shell-03", "category": "shell", "difficulty": "easy",
   "instruction": "Write the output of 'uname -a' to /tmp/uname.txt",
   "verify_cmd": "test -s /tmp/uname.txt && grep -qi 'darwin\\|linux' /tmp/uname.txt",
   "description": "Simple command capture"},

  {"id": "shell-04", "category": "shell", "difficulty": "easy",
   "instruction": "Create a file /tmp/nums.txt with the numbers 1 through 10, one per line",
   "verify_cmd": "test $(wc -l < /tmp/nums.txt) -ge 10 && grep -q '^1$' /tmp/nums.txt && grep -q '^10$' /tmp/nums.txt",
   "description": "Sequence generation"},

  {"id": "shell-05", "category": "shell", "difficulty": "medium",
   "instruction": "Find all directories in /usr/local and write their full paths to /tmp/dirs.txt, sorted alphabetically",
   "verify_cmd": "test -s /tmp/dirs.txt",
   "description": "Directory listing with sort"},

  {"id": "shell-06", "category": "shell", "difficulty": "medium",
   "instruction": "Count how many lines in /etc/hosts contain a comment (lines starting with #) and write just the number to /tmp/comment_count.txt",
   "verify_cmd": "test -f /tmp/comment_count.txt && grep -qE '[0-9]+' /tmp/comment_count.txt",
   "description": "Grep + count"},

  {"id": "shell-07", "category": "shell", "difficulty": "medium",
   "instruction": "Get the top 5 largest files in /usr/bin by size, and write their names and sizes to /tmp/largest.txt",
   "verify_cmd": "test -s /tmp/largest.txt && test $(wc -l < /tmp/largest.txt) -ge 5",
   "description": "Sort by size and limit"},

  {"id": "shell-08", "category": "shell", "difficulty": "easy",
   "instruction": "Write the current date and time to /tmp/now.txt",
   "verify_cmd": "test -s /tmp/now.txt",
   "description": "Date output capture"},

  {"id": "shell-09", "category": "shell", "difficulty": "medium",
   "instruction": "Count how many unique file extensions exist in /usr/bin and write the count to /tmp/ext_count.txt",
   "verify_cmd": "test -f /tmp/ext_count.txt && grep -qE '[0-9]+' /tmp/ext_count.txt",
   "description": "Extension counting with pipes"},

  {"id": "shell-10", "category": "shell", "difficulty": "hard",
   "instruction": "Find all files in /etc that are larger than 10KB, sort them by size descending, and write the top 10 with their sizes to /tmp/big_etc.txt",
   "verify_cmd": "test -s /tmp/big_etc.txt",
   "description": "Complex find with size filter and sort"},

  {"id": "file-ops-01", "category": "file-ops", "difficulty": "easy",
   "instruction": "Create a file /tmp/hello.txt containing exactly the text 'hello world' (no quotes)",
   "verify_cmd": "test \"$(cat /tmp/hello.txt)\" = 'hello world'",
   "description": "Simple file creation"},

  {"id": "file-ops-02", "category": "file-ops", "difficulty": "easy",
   "instruction": "Create a directory /tmp/mydir and inside it create three empty files: a.txt, b.txt, c.txt",
   "verify_cmd": "test -d /tmp/mydir && test -f /tmp/mydir/a.txt && test -f /tmp/mydir/b.txt && test -f /tmp/mydir/c.txt",
   "description": "Directory and multiple files"},

  {"id": "file-ops-03", "category": "file-ops", "difficulty": "easy",
   "instruction": "Create a JSON file /tmp/person.json with fields name, age, and email. Use any values you want.",
   "verify_cmd": "python3 -c \"import json; d=json.load(open('/tmp/person.json')); assert 'name' in d and 'age' in d and 'email' in d\"",
   "description": "JSON file creation"},

  {"id": "file-ops-04", "category": "file-ops", "difficulty": "medium",
   "instruction": "Create a file /tmp/config.ini with the following sections: [database] with host=localhost and port=5432, and [app] with debug=true and name=myapp",
   "verify_cmd": "grep -q '\\[database\\]' /tmp/config.ini && grep -q 'host=localhost' /tmp/config.ini && grep -q 'port=5432' /tmp/config.ini && grep -q '\\[app\\]' /tmp/config.ini && grep -q 'debug=true' /tmp/config.ini",
   "description": "Multi-section config file creation"},

  {"id": "file-ops-05", "category": "file-ops", "difficulty": "medium",
   "instruction": "Create /tmp/env.sh that exports three environment variables: APP_NAME=myapp, APP_PORT=8080, APP_DEBUG=false. Each should be on its own line starting with 'export'.",
   "verify_cmd": "grep -q 'export APP_NAME=myapp' /tmp/env.sh && grep -q 'export APP_PORT=8080' /tmp/env.sh && grep -q 'export APP_DEBUG=false' /tmp/env.sh",
   "description": "Shell env file creation"},

  {"id": "file-ops-06", "category": "file-ops", "difficulty": "easy",
   "instruction": "Create a file /tmp/colors.txt with exactly these colors, one per line: red, green, blue, yellow, purple",
   "verify_cmd": "grep -q 'red' /tmp/colors.txt && grep -q 'purple' /tmp/colors.txt && test $(wc -l < /tmp/colors.txt) -eq 5",
   "description": "Exact content file creation"},

  {"id": "file-ops-07", "category": "file-ops", "difficulty": "medium",
   "instruction": "Create a directory tree /tmp/webapp with subdirectories: static/css, static/js, templates, and an empty __init__.py in the root",
   "verify_cmd": "test -d /tmp/webapp/static/css && test -d /tmp/webapp/static/js && test -d /tmp/webapp/templates && test -f /tmp/webapp/__init__.py",
   "description": "Nested directory structure"},

  {"id": "file-ops-08", "category": "file-ops", "difficulty": "medium",
   "instruction": "Create /tmp/requirements.txt with these Python packages one per line: flask>=2.0, requests, numpy>=1.20, pandas, pytest",
   "verify_cmd": "grep -q 'flask' /tmp/requirements.txt && grep -q 'pytest' /tmp/requirements.txt && test $(wc -l < /tmp/requirements.txt) -ge 5",
   "description": "Requirements file creation"},

  {"id": "file-ops-09", "category": "file-ops", "difficulty": "hard",
   "instruction": "Create a YAML file /tmp/docker-compose.yml that defines two services: 'web' (image: nginx, port 80:80) and 'db' (image: postgres, environment POSTGRES_PASSWORD=secret)",
   "verify_cmd": "grep -q 'nginx' /tmp/docker-compose.yml && grep -q 'postgres' /tmp/docker-compose.yml && grep -q 'POSTGRES_PASSWORD' /tmp/docker-compose.yml",
   "description": "YAML config file creation"},

  {"id": "file-ops-10", "category": "file-ops", "difficulty": "hard",
   "instruction": "Create /tmp/Makefile with targets: 'build' that runs 'echo building', 'test' that runs 'echo testing', and 'clean' that runs 'echo cleaning'. Make 'build' the default target.",
   "verify_cmd": "grep -q 'build' /tmp/Makefile && grep -q 'test' /tmp/Makefile && grep -q 'clean' /tmp/Makefile",
   "description": "Makefile creation"},

  {"id": "python-01", "category": "python", "difficulty": "easy",
   "instruction": "Write a Python script /tmp/fib.py that defines a function fibonacci(n) returning the nth fibonacci number (0-indexed, fib(0)=0, fib(1)=1). The script should print fibonacci(10) when run.",
   "verify_cmd": "python3 /tmp/fib.py | grep -q '55'",
   "description": "Write and verify a Python script"},

  {"id": "python-02", "category": "python", "difficulty": "easy",
   "instruction": "Write a Python script /tmp/rev.py that takes a string as a command line argument and prints it reversed. For example: python3 /tmp/rev.py hello should print olleh",
   "verify_cmd": "test \"$(python3 /tmp/rev.py hello)\" = 'olleh'",
   "description": "Simple CLI script"},

  {"id": "python-03", "category": "python", "difficulty": "easy",
   "instruction": "Write a Python script /tmp/calc.py that takes three arguments: a number, an operator (+, -, *, /), and another number, then prints the result. Example: python3 /tmp/calc.py 3 + 4 should print 7",
   "verify_cmd": "python3 /tmp/calc.py 3 + 4 | grep -q '7'",
   "description": "Basic calculator script"},

  {"id": "python-04", "category": "python", "difficulty": "medium",
   "instruction": "Write a Python script /tmp/wordcount.py that reads /tmp/sample.txt and writes a JSON file /tmp/wc_result.json with keys 'lines', 'words', 'chars' containing the counts. First create /tmp/sample.txt with at least 3 lines of text.",
   "verify_cmd": "python3 /tmp/wordcount.py && python3 -c \"import json; d=json.load(open('/tmp/wc_result.json')); assert 'lines' in d and 'words' in d and 'chars' in d\"",
   "description": "Multi-step Python task with file I/O"},

  {"id": "python-05", "category": "python", "difficulty": "medium",
   "instruction": "Write /tmp/fizzbuzz.py that prints numbers 1 to 30, but prints 'Fizz' for multiples of 3, 'Buzz' for multiples of 5, and 'FizzBuzz' for multiples of both.",
   "verify_cmd": "python3 /tmp/fizzbuzz.py | head -15 | grep -q 'FizzBuzz' && python3 /tmp/fizzbuzz.py | grep -c 'FizzBuzz' | grep -q '2'",
   "description": "FizzBuzz implementation"},

  {"id": "python-06", "category": "python", "difficulty": "easy",
   "instruction": "Write a Python script /tmp/even.py that prints all even numbers from 1 to 20, one per line",
   "verify_cmd": "python3 /tmp/even.py | grep -q '2' && python3 /tmp/even.py | grep -q '20' && test $(python3 /tmp/even.py | wc -l) -eq 10",
   "description": "Simple loop and conditional"},

  {"id": "python-07", "category": "python", "difficulty": "medium",
   "instruction": "Write a Python script /tmp/palindrome.py that takes a string argument and prints 'yes' if it's a palindrome, 'no' otherwise. Example: python3 /tmp/palindrome.py racecar should print yes",
   "verify_cmd": "test \"$(python3 /tmp/palindrome.py racecar)\" = 'yes' && test \"$(python3 /tmp/palindrome.py hello)\" = 'no'",
   "description": "String palindrome checker"},

  {"id": "python-08", "category": "python", "difficulty": "medium",
   "instruction": "Write /tmp/stats.py that takes any number of numeric command line arguments and prints the min, max, and mean. Example: python3 /tmp/stats.py 1 5 3 should print something containing min=1, max=5, mean=3.0",
   "verify_cmd": "python3 /tmp/stats.py 1 5 3 | grep -q '1' && python3 /tmp/stats.py 1 5 3 | grep -q '5'",
   "description": "Stats calculator CLI"},

  {"id": "python-09", "category": "python", "difficulty": "hard",
   "instruction": "Write /tmp/matrix.py that multiplies two 2x2 matrices A=[[1,2],[3,4]] and B=[[5,6],[7,8]] and prints the result matrix. Expected output should contain 19, 22, 43, 50.",
   "verify_cmd": "python3 /tmp/matrix.py | grep -q '19' && python3 /tmp/matrix.py | grep -q '50'",
   "description": "Matrix multiplication"},

  {"id": "python-10", "category": "python", "difficulty": "hard",
   "instruction": "Write /tmp/tree.py that takes a directory path as argument and prints its contents as a tree structure showing files and subdirectories with indentation. Run it on /tmp.",
   "verify_cmd": "test -f /tmp/tree.py && python3 /tmp/tree.py /tmp 2>/dev/null | head -5 | grep -qE '.'",
   "description": "Directory tree printer"},

  {"id": "data-01", "category": "data", "difficulty": "medium",
   "instruction": "Create a CSV file /tmp/data.csv with columns name,age,city and 5 rows of sample data. Then write a script /tmp/analyze.py that reads the CSV and writes /tmp/stats.json with the average age and the list of unique cities.",
   "verify_cmd": "test -f /tmp/data.csv && python3 /tmp/analyze.py && python3 -c \"import json; d=json.load(open('/tmp/stats.json')); assert 'average_age' in d and 'cities' in d\"",
   "description": "Data creation and analysis"},

  {"id": "data-02", "category": "data", "difficulty": "easy",
   "instruction": "Create a CSV file /tmp/scores.csv with columns student,score containing at least 5 rows of data. Use any names and scores between 0-100.",
   "verify_cmd": "test -f /tmp/scores.csv && python3 -c \"import csv; rows=list(csv.DictReader(open('/tmp/scores.csv'))); assert len(rows)>=5 and 'student' in rows[0] and 'score' in rows[0]\"",
   "description": "CSV file creation"},

  {"id": "data-03", "category": "data", "difficulty": "medium",
   "instruction": "Create /tmp/inventory.json containing a JSON array of at least 5 objects, each with fields: item (string), quantity (number), price (number). Then write /tmp/total.py that reads it and prints the total value (sum of quantity*price for each item).",
   "verify_cmd": "python3 /tmp/total.py | grep -qE '[0-9]'",
   "description": "JSON data processing"},

  {"id": "data-04", "category": "data", "difficulty": "easy",
   "instruction": "Create a JSON file /tmp/books.json with an array of 3 book objects, each with title, author, and year fields.",
   "verify_cmd": "python3 -c \"import json; d=json.load(open('/tmp/books.json')); assert isinstance(d,list) and len(d)>=3 and 'title' in d[0] and 'author' in d[0]\"",
   "description": "JSON array creation"},

  {"id": "data-05", "category": "data", "difficulty": "medium",
   "instruction": "Create /tmp/temps.csv with columns date,temp_c for 7 days. Then write /tmp/convert.py that reads it and creates /tmp/temps_f.csv with columns date,temp_f where temp_f = temp_c * 9/5 + 32.",
   "verify_cmd": "test -f /tmp/temps.csv && python3 /tmp/convert.py && python3 -c \"import csv; rows=list(csv.DictReader(open('/tmp/temps_f.csv'))); assert len(rows)>=7 and 'temp_f' in rows[0]\"",
   "description": "CSV transformation"},

  {"id": "data-06", "category": "data", "difficulty": "medium",
   "instruction": "Create /tmp/sales.csv with columns product,quantity,price for at least 8 rows. Then write /tmp/top_sales.py that reads it and prints the top 3 products by total revenue (quantity*price).",
   "verify_cmd": "test -f /tmp/sales.csv && python3 /tmp/top_sales.py | head -3 | grep -qE '.'",
   "description": "CSV aggregation and ranking"},

  {"id": "data-07", "category": "data", "difficulty": "easy",
   "instruction": "Create /tmp/contacts.json with a JSON array of 5 contacts, each having name, phone, and email fields.",
   "verify_cmd": "python3 -c \"import json; d=json.load(open('/tmp/contacts.json')); assert len(d)>=5 and 'phone' in d[0] and 'email' in d[0]\"",
   "description": "Contact list JSON creation"},

  {"id": "data-08", "category": "data", "difficulty": "hard",
   "instruction": "Create /tmp/employees.csv with columns name,department,salary for 10 employees across at least 3 departments. Then write /tmp/dept_avg.py that prints the average salary per department.",
   "verify_cmd": "test -f /tmp/employees.csv && python3 /tmp/dept_avg.py | wc -l | grep -qE '[3-9]'",
   "description": "Group-by aggregation"},

  {"id": "data-09", "category": "data", "difficulty": "hard",
   "instruction": "Write /tmp/merge.py that reads /tmp/users_a.json and /tmp/users_b.json (create both first, each with an array of user objects having id and name), merges them removing duplicates by id, and writes /tmp/merged_users.json.",
   "verify_cmd": "python3 /tmp/merge.py && python3 -c \"import json; d=json.load(open('/tmp/merged_users.json')); assert isinstance(d,list) and len(d)>=2\"",
   "description": "JSON merge with deduplication"},

  {"id": "data-10", "category": "data", "difficulty": "medium",
   "instruction": "Create /tmp/weather.csv with columns city,temp,humidity for 5 cities. Write /tmp/weather_report.py that reads it and writes /tmp/weather_report.txt with a formatted text summary of each city.",
   "verify_cmd": "python3 /tmp/weather_report.py && test -s /tmp/weather_report.txt && test $(wc -l < /tmp/weather_report.txt) -ge 5",
   "description": "CSV to formatted report"},

  {"id": "system-01", "category": "system", "difficulty": "easy",
   "instruction": "Write the current hostname, kernel version, and current user to /tmp/sysinfo.txt, one per line.",
   "verify_cmd": "test -f /tmp/sysinfo.txt && test $(wc -l < /tmp/sysinfo.txt) -ge 3",
   "description": "System information gathering"},

  {"id": "system-02", "category": "system", "difficulty": "easy",
   "instruction": "Write the current date in ISO format and your current working directory to /tmp/env_info.txt",
   "verify_cmd": "test -f /tmp/env_info.txt && test -s /tmp/env_info.txt",
   "description": "Environment information capture"},

  {"id": "system-03", "category": "system", "difficulty": "medium",
   "instruction": "Write a list of all environment variables that contain the word 'PATH' to /tmp/path_vars.txt",
   "verify_cmd": "test -s /tmp/path_vars.txt && grep -qi 'PATH' /tmp/path_vars.txt",
   "description": "Environment variable filtering"},

  {"id": "system-04", "category": "system", "difficulty": "easy",
   "instruction": "Write the total number of running processes to /tmp/proc_count.txt",
   "verify_cmd": "test -f /tmp/proc_count.txt && grep -qE '[0-9]+' /tmp/proc_count.txt",
   "description": "Process counting"},

  {"id": "system-05", "category": "system", "difficulty": "medium",
   "instruction": "Write the amount of free disk space on the root filesystem to /tmp/disk_free.txt in human-readable format",
   "verify_cmd": "test -s /tmp/disk_free.txt",
   "description": "Disk space query"},

  {"id": "system-06", "category": "system", "difficulty": "medium",
   "instruction": "List all users on the system (from /etc/passwd) and write just the usernames to /tmp/usernames.txt, one per line",
   "verify_cmd": "test -s /tmp/usernames.txt && grep -q 'root' /tmp/usernames.txt",
   "description": "User listing from passwd"},

  {"id": "system-07", "category": "system", "difficulty": "medium",
   "instruction": "Write the system uptime to /tmp/uptime.txt",
   "verify_cmd": "test -s /tmp/uptime.txt",
   "description": "Uptime capture"},

  {"id": "system-08", "category": "system", "difficulty": "hard",
   "instruction": "Find the 5 processes using the most memory and write their names and memory usage to /tmp/top_mem.txt",
   "verify_cmd": "test -s /tmp/top_mem.txt && test $(wc -l < /tmp/top_mem.txt) -ge 5",
   "description": "Top memory processes"},

  {"id": "system-09", "category": "system", "difficulty": "easy",
   "instruction": "Write the value of the HOME environment variable to /tmp/home_var.txt",
   "verify_cmd": "test -s /tmp/home_var.txt && grep -q '/Users\\|/home\\|/root' /tmp/home_var.txt",
   "description": "Environment variable access"},

  {"id": "system-10", "category": "system", "difficulty": "hard",
   "instruction": "Write a summary of the system to /tmp/sys_summary.txt including: OS name, CPU architecture, total memory, hostname, and current shell. Each on its own line.",
   "verify_cmd": "test -s /tmp/sys_summary.txt && test $(wc -l < /tmp/sys_summary.txt) -ge 5",
   "description": "Comprehensive system summary"},

  {"id": "text-01", "category": "text", "difficulty": "medium",
   "instruction": "Create /tmp/log.txt with 10 lines of fake log entries in the format 'YYYY-MM-DD HH:MM:SS [LEVEL] message' using levels INFO, WARN, ERROR. Then extract only the ERROR lines to /tmp/errors.txt",
   "verify_cmd": "test -f /tmp/errors.txt && grep -q ERROR /tmp/errors.txt && ! grep -q INFO /tmp/errors.txt",
   "description": "Log generation and filtering"},

  {"id": "text-02", "category": "text", "difficulty": "easy",
   "instruction": "Create /tmp/fruits.txt with one fruit name per line (at least 5 fruits), then sort them alphabetically and write to /tmp/sorted_fruits.txt",
   "verify_cmd": "test -s /tmp/sorted_fruits.txt && test $(wc -l < /tmp/sorted_fruits.txt) -ge 5",
   "description": "Text sorting"},

  {"id": "text-03", "category": "text", "difficulty": "medium",
   "instruction": "Create /tmp/words.txt with at least 20 words (one per line, some repeated). Then write /tmp/unique_counts.txt showing each unique word and how many times it appears, sorted by count descending.",
   "verify_cmd": "test -s /tmp/unique_counts.txt && test $(wc -l < /tmp/unique_counts.txt) -ge 3",
   "description": "Word frequency counting"},

  {"id": "text-04", "category": "text", "difficulty": "easy",
   "instruction": "Create /tmp/mixed_case.txt with 5 lines of mixed case text. Then write /tmp/lower.txt with all text converted to lowercase.",
   "verify_cmd": "test -s /tmp/lower.txt && ! grep -q '[A-Z]' /tmp/lower.txt",
   "description": "Case conversion"},

  {"id": "text-05", "category": "text", "difficulty": "medium",
   "instruction": "Create /tmp/addresses.txt with 5 lines, each containing 'Name, City, State'. Then extract just the cities to /tmp/cities.txt, one per line.",
   "verify_cmd": "test -s /tmp/cities.txt && test $(wc -l < /tmp/cities.txt) -ge 5",
   "description": "Field extraction from structured text"},

  {"id": "text-06", "category": "text", "difficulty": "medium",
   "instruction": "Create /tmp/poem.txt with at least 8 lines. Then write /tmp/line_lengths.txt with the character count of each line.",
   "verify_cmd": "test -s /tmp/line_lengths.txt && test $(wc -l < /tmp/line_lengths.txt) -ge 8",
   "description": "Per-line character counting"},

  {"id": "text-07", "category": "text", "difficulty": "hard",
   "instruction": "Create /tmp/emails.txt with 5 lines of text containing email addresses mixed with other text. Then extract just the email addresses to /tmp/extracted_emails.txt, one per line.",
   "verify_cmd": "test -s /tmp/extracted_emails.txt && grep -qE '@' /tmp/extracted_emails.txt && test $(wc -l < /tmp/extracted_emails.txt) -ge 5",
   "description": "Email extraction with regex"},

  {"id": "text-08", "category": "text", "difficulty": "easy",
   "instruction": "Create /tmp/numbers.txt with the numbers 1 to 20, one per line. Then write /tmp/even_numbers.txt containing only the even numbers.",
   "verify_cmd": "test -s /tmp/even_numbers.txt && grep -q '2' /tmp/even_numbers.txt && grep -q '20' /tmp/even_numbers.txt && ! grep -q '^1$' /tmp/even_numbers.txt",
   "description": "Number filtering"},

  {"id": "text-09", "category": "text", "difficulty": "hard",
   "instruction": "Create /tmp/csv_raw.txt with 5 lines of comma-separated data (name,score,grade). Then reformat it as a fixed-width table in /tmp/table.txt with aligned columns.",
   "verify_cmd": "test -s /tmp/table.txt && test $(wc -l < /tmp/table.txt) -ge 5",
   "description": "CSV to formatted table"},

  {"id": "text-10", "category": "text", "difficulty": "medium",
   "instruction": "Create /tmp/paragraph.txt with a paragraph of at least 50 words. Then write /tmp/word_stats.txt containing the total word count, unique word count, and the most common word.",
   "verify_cmd": "test -s /tmp/word_stats.txt",
   "description": "Paragraph word analysis"},

  {"id": "debug-01", "category": "debug", "difficulty": "medium",
   "instruction": "The file /tmp/broken.py has a bug. Fix it so it runs correctly. Here is the content to write to /tmp/broken.py first: \ndef add_numbers(a, b):\n    return a + b\n\ndef main():\n    result = add_numbers(5, '3')\n    print(f'Result: {result}')\n\nmain()\n\nThe fix should make it print 'Result: 8'.",
   "verify_cmd": "python3 /tmp/broken.py | grep -q 'Result: 8'",
   "description": "Debug and fix a Python script"},

  {"id": "debug-02", "category": "debug", "difficulty": "easy",
   "instruction": "Create /tmp/buggy.py with this content and fix the bug:\n\ndef greet(name):\n    print('Hello, ' + name + '!')\n\ngreet(42)\n\nIt should print 'Hello, 42!'",
   "verify_cmd": "python3 /tmp/buggy.py | grep -q 'Hello, 42!'",
   "description": "Simple type error fix"},

  {"id": "debug-03", "category": "debug", "difficulty": "easy",
   "instruction": "Create /tmp/fix_indent.py with this buggy code and fix it:\n\ndef square(x):\nreturn x * x\n\nprint(square(5))\n\nIt should print 25.",
   "verify_cmd": "python3 /tmp/fix_indent.py | grep -q '25'",
   "description": "Fix indentation error"},

  {"id": "debug-04", "category": "debug", "difficulty": "medium",
   "instruction": "Create /tmp/fix_loop.py with this buggy code and fix it:\n\ndef sum_list(numbers):\n    total = 0\n    for i in range(len(numbers) + 1):\n        total += numbers[i]\n    return total\n\nprint(sum_list([1, 2, 3, 4, 5]))\n\nIt should print 15.",
   "verify_cmd": "python3 /tmp/fix_loop.py | grep -q '15'",
   "description": "Fix off-by-one error"},

  {"id": "debug-05", "category": "debug", "difficulty": "medium",
   "instruction": "Create /tmp/fix_dict.py with this buggy code and fix it:\n\ndef get_value(d, key):\n    return d[key]\n\ndata = {'name': 'Alice', 'age': 30}\nprint(get_value(data, 'email'))\n\nIt should print 'N/A' instead of crashing with a KeyError.",
   "verify_cmd": "python3 /tmp/fix_dict.py | grep -q 'N/A'",
   "description": "Fix KeyError with default value"},

  {"id": "debug-06", "category": "debug", "difficulty": "medium",
   "instruction": "Create /tmp/fix_recursion.py with this buggy code and fix it:\n\ndef factorial(n):\n    return n * factorial(n - 1)\n\nprint(factorial(5))\n\nIt should print 120.",
   "verify_cmd": "python3 /tmp/fix_recursion.py | grep -q '120'",
   "description": "Fix missing base case in recursion"},

  {"id": "debug-07", "category": "debug", "difficulty": "hard",
   "instruction": "Create /tmp/fix_sort.py with this buggy code and fix it:\n\ndef bubble_sort(arr):\n    for i in range(len(arr)):\n        for j in range(len(arr) - 1):\n            if arr[j] > arr[j + 1]:\n                arr[j] = arr[j + 1]\n                arr[j + 1] = arr[j]\n    return arr\n\nprint(bubble_sort([5, 3, 8, 1, 2]))\n\nIt should print [1, 2, 3, 5, 8].",
   "verify_cmd": "python3 /tmp/fix_sort.py | grep -q '1, 2, 3, 5, 8'",
   "description": "Fix broken swap in bubble sort"},

  {"id": "debug-08", "category": "debug", "difficulty": "easy",
   "instruction": "Create /tmp/fix_import.py with this buggy code and fix it:\n\nimport maths\n\nprint(maths.sqrt(16))\n\nIt should print 4.0.",
   "verify_cmd": "python3 /tmp/fix_import.py | grep -q '4'",
   "description": "Fix wrong module name"},

  {"id": "debug-09", "category": "debug", "difficulty": "hard",
   "instruction": "Create /tmp/fix_class.py with this buggy code and fix it:\n\nclass Counter:\n    count = 0\n    def __init__(self):\n        count += 1\n    def get_count(self):\n        return count\n\nc1 = Counter()\nc2 = Counter()\nprint(c2.get_count())\n\nIt should print 2.",
   "verify_cmd": "python3 /tmp/fix_class.py | grep -q '2'",
   "description": "Fix class variable vs instance variable"},

  {"id": "debug-10", "category": "debug", "difficulty": "medium",
   "instruction": "Create /tmp/fix_file.py with this buggy code and fix it:\n\nf = open('/tmp/debug_test.txt', 'w')\nf.write('hello world')\ndata = open('/tmp/debug_test.txt', 'r').read()\nprint(data)\n\nIt should print 'hello world'.",
   "verify_cmd": "python3 /tmp/fix_file.py | grep -q 'hello world'",
   "description": "Fix file not flushed before read"},

  {"id": "git-01", "category": "git", "difficulty": "medium",
   "instruction": "Create a git repository in /tmp/myrepo, add a README.md with the text 'My Project', and make an initial commit with message 'init'.",
   "verify_cmd": "cd /tmp/myrepo && git log --oneline | grep -q 'init' && test -f README.md",
   "description": "Git repository setup"},

  {"id": "git-02", "category": "git", "difficulty": "easy",
   "instruction": "Create a git repo in /tmp/gittest, create a file hello.txt with 'hello', add and commit it with message 'add hello'.",
   "verify_cmd": "cd /tmp/gittest && git log --oneline | grep -q 'add hello' && test -f hello.txt",
   "description": "Basic git add and commit"},

  {"id": "git-03", "category": "git", "difficulty": "medium",
   "instruction": "Create a git repo in /tmp/gitbranch, add a file main.txt, commit it, then create and switch to a branch called 'feature' and add a file feature.txt there.",
   "verify_cmd": "cd /tmp/gitbranch && git branch | grep -q 'feature' && git checkout feature && test -f feature.txt",
   "description": "Git branching"},

  {"id": "git-04", "category": "git", "difficulty": "medium",
   "instruction": "Create a git repo in /tmp/gittag, add a file, commit it, then create a tag called 'v1.0'.",
   "verify_cmd": "cd /tmp/gittag && git tag | grep -q 'v1.0'",
   "description": "Git tagging"},

  {"id": "git-05", "category": "git", "difficulty": "hard",
   "instruction": "Create a git repo in /tmp/gitlog with 3 commits, each adding a different file (a.txt, b.txt, c.txt). Write the git log output to /tmp/git_history.txt.",
   "verify_cmd": "cd /tmp/gitlog && test $(git log --oneline | wc -l) -ge 3 && test -s /tmp/git_history.txt",
   "description": "Multi-commit git history"},

  {"id": "git-06", "category": "git", "difficulty": "easy",
   "instruction": "Create a git repo in /tmp/gitignore and add a .gitignore file that ignores *.log files and the node_modules directory.",
   "verify_cmd": "cd /tmp/gitignore && grep -q '*.log' .gitignore && grep -q 'node_modules' .gitignore",
   "description": "Create .gitignore"},

  {"id": "git-07", "category": "git", "difficulty": "medium",
   "instruction": "Create a git repo in /tmp/gitdiff, add file.txt with content 'version 1', commit it, then change file.txt to 'version 2' and write the diff output to /tmp/my_diff.txt.",
   "verify_cmd": "test -s /tmp/my_diff.txt && grep -q 'version' /tmp/my_diff.txt",
   "description": "Git diff output"},

  {"id": "git-08", "category": "git", "difficulty": "hard",
   "instruction": "Create a git repo in /tmp/gitmerge. On main, add base.txt and commit. Create branch 'dev', add dev.txt and commit. Switch back to main and merge dev.",
   "verify_cmd": "cd /tmp/gitmerge && git log --oneline | wc -l | grep -qE '[3-9]' && test -f base.txt && test -f dev.txt",
   "description": "Git merge"},

  {"id": "git-09", "category": "git", "difficulty": "easy",
   "instruction": "Create a git repo in /tmp/gitstatus, add two files tracked.txt and untracked.txt, but only stage tracked.txt. Write the output of git status to /tmp/status_output.txt.",
   "verify_cmd": "test -s /tmp/status_output.txt && grep -q 'tracked.txt' /tmp/status_output.txt",
   "description": "Git status inspection"},

  {"id": "git-10", "category": "git", "difficulty": "hard",
   "instruction": "Create a git repo in /tmp/gitstash, add file.txt with 'original', commit it. Modify file.txt to 'modified', stash the changes, then write the stash list to /tmp/stash_list.txt.",
   "verify_cmd": "cd /tmp/gitstash && test -s /tmp/stash_list.txt && git stash list | grep -qE '.'",
   "description": "Git stash"},

  {"id": "multi-step-01", "category": "multi-step", "difficulty": "medium",
   "instruction": "Create a directory /tmp/project with subdirectories src and tests. In src, create a file main.py that prints 'hello'. In tests, create test_main.py that imports and runs main.",
   "verify_cmd": "test -d /tmp/project/src && test -d /tmp/project/tests && test -f /tmp/project/src/main.py && test -f /tmp/project/tests/test_main.py",
   "description": "Multi-step directory and file creation"},

  {"id": "multi-step-02", "category": "multi-step", "difficulty": "medium",
   "instruction": "Find the total disk usage of /usr/lib in human readable format and write it to /tmp/disk_usage.txt. Also write the count of files in that directory to /tmp/file_count.txt",
   "verify_cmd": "test -s /tmp/disk_usage.txt && test -s /tmp/file_count.txt",
   "description": "Multiple shell commands with output capture"},

  {"id": "multi-step-03", "category": "multi-step", "difficulty": "hard",
   "instruction": "Create a Python CLI tool at /tmp/todo.py that supports: 'python3 /tmp/todo.py add <task>' to append a task to /tmp/todos.txt, and 'python3 /tmp/todo.py list' to print all tasks. Then add 3 tasks and verify with list.",
   "verify_cmd": "python3 /tmp/todo.py add 'test task' && python3 /tmp/todo.py list | grep -q 'test task'",
   "description": "Build and test a CLI tool"},

  {"id": "multi-step-04", "category": "multi-step", "difficulty": "medium",
   "instruction": "Create /tmp/users.json with a JSON array of 3 user objects (each with name and role). Then write /tmp/report.txt listing each user as 'Name: X, Role: Y' on separate lines.",
   "verify_cmd": "test -s /tmp/report.txt && test $(wc -l < /tmp/report.txt) -ge 3 && grep -qi 'name\\|role' /tmp/report.txt",
   "description": "JSON to text report"},

  {"id": "multi-step-05", "category": "multi-step", "difficulty": "hard",
   "instruction": "Write a bash script /tmp/backup.sh that takes a directory path as argument, creates a tarball of it at /tmp/backup.tar.gz, and prints the size of the archive. Then run it on /tmp/mydir (create /tmp/mydir with some files first if it doesn't exist).",
   "verify_cmd": "test -f /tmp/backup.sh && test -f /tmp/backup.tar.gz",
   "description": "Backup script creation and execution"},

  {"id": "multi-step-06", "category": "multi-step", "difficulty": "medium",
   "instruction": "Create /tmp/animals.txt with 10 animal names. Then sort them, remove duplicates, count the remaining, and write both the sorted list and the count to /tmp/animal_results.txt.",
   "verify_cmd": "test -s /tmp/animal_results.txt",
   "description": "Multi-stage text processing pipeline"},

  {"id": "multi-step-07", "category": "multi-step", "difficulty": "hard",
   "instruction": "Write /tmp/server_check.sh that checks if port 11434 is in use, writes 'up' or 'down' to /tmp/port_status.txt, then appends the current timestamp. Run the script.",
   "verify_cmd": "test -f /tmp/server_check.sh && test -s /tmp/port_status.txt",
   "description": "Port check script with logging"},

  {"id": "multi-step-08", "category": "multi-step", "difficulty": "medium",
   "instruction": "Create /tmp/grades.csv with columns student,math,science,english for 5 students. Then write /tmp/averages.py that reads it and creates /tmp/averages.csv with columns student,average.",
   "verify_cmd": "python3 /tmp/averages.py && python3 -c \"import csv; rows=list(csv.DictReader(open('/tmp/averages.csv'))); assert len(rows)>=5 and 'average' in rows[0]\"",
   "description": "CSV multi-column averaging"},

  {"id": "multi-step-09", "category": "multi-step", "difficulty": "hard",
   "instruction": "Create a Python package at /tmp/mathpkg with __init__.py, add.py (with an add function), and multiply.py (with a multiply function). Create /tmp/test_mathpkg.py that imports and tests both functions.",
   "verify_cmd": "test -f /tmp/mathpkg/__init__.py && test -f /tmp/mathpkg/add.py && test -f /tmp/mathpkg/multiply.py && python3 /tmp/test_mathpkg.py",
   "description": "Python package creation and testing"},

  {"id": "multi-step-10", "category": "multi-step", "difficulty": "hard",
   "instruction": "Write /tmp/log_analyzer.py that: 1) creates /tmp/app.log with 20 lines of random log entries (timestamp, level, message), 2) reads the log, 3) writes /tmp/log_summary.json with counts per level and the timestamp range.",
   "verify_cmd": "python3 /tmp/log_analyzer.py && python3 -c \"import json; d=json.load(open('/tmp/log_summary.json')); assert any(k in d for k in ['INFO','ERROR','counts','levels'])\"",
   "description": "Log file generation and analysis"},

  {"id": "scripting-01", "category": "scripting", "difficulty": "easy",
   "instruction": "Write a bash script /tmp/greet.sh that takes a name as argument and prints 'Hello, <name>!'. Make it executable. Test it with: bash /tmp/greet.sh World",
   "verify_cmd": "bash /tmp/greet.sh World | grep -q 'Hello, World!'",
   "description": "Simple bash script with argument"},

  {"id": "scripting-02", "category": "scripting", "difficulty": "easy",
   "instruction": "Write a bash script /tmp/countdown.sh that counts down from 5 to 1, printing each number on its own line, then prints 'Go!'",
   "verify_cmd": "bash /tmp/countdown.sh | head -1 | grep -q '5' && bash /tmp/countdown.sh | tail -1 | grep -q 'Go'",
   "description": "Loop countdown script"},

  {"id": "scripting-03", "category": "scripting", "difficulty": "medium",
   "instruction": "Write a bash script /tmp/fileinfo.sh that takes a file path as argument and prints: its size, number of lines, and last modified date.",
   "verify_cmd": "bash /tmp/fileinfo.sh /etc/hosts | grep -qE '[0-9]'",
   "description": "File information script"},

  {"id": "scripting-04", "category": "scripting", "difficulty": "medium",
   "instruction": "Write a bash script /tmp/extension_count.sh that takes a directory as argument and prints the count of files for each file extension found, sorted by count.",
   "verify_cmd": "bash /tmp/extension_count.sh /usr/bin | grep -qE '[0-9]'",
   "description": "File extension counter script"},

  {"id": "scripting-05", "category": "scripting", "difficulty": "medium",
   "instruction": "Write a bash script /tmp/rename_ext.sh that takes a directory, old extension, and new extension as arguments, and renames all files with the old extension to the new one. Test it by creating /tmp/rentest with a few .txt files, then running the script to rename them to .md.",
   "verify_cmd": "test -d /tmp/rentest && ls /tmp/rentest/*.md 2>/dev/null | grep -q '.md'",
   "description": "Batch file rename script"},

  {"id": "scripting-06", "category": "scripting", "difficulty": "easy",
   "instruction": "Write a bash script /tmp/even_odd.sh that takes a number as argument and prints 'even' or 'odd'.",
   "verify_cmd": "test \"$(bash /tmp/even_odd.sh 4)\" = 'even' && test \"$(bash /tmp/even_odd.sh 7)\" = 'odd'",
   "description": "Even/odd checker script"},

  {"id": "scripting-07", "category": "scripting", "difficulty": "hard",
   "instruction": "Write a bash script /tmp/monitor.sh that writes CPU usage percentage, memory usage, and load average to /tmp/monitor_log.txt with a timestamp. Run it once.",
   "verify_cmd": "bash /tmp/monitor.sh && test -s /tmp/monitor_log.txt",
   "description": "System monitoring script"},

  {"id": "scripting-08", "category": "scripting", "difficulty": "medium",
   "instruction": "Write a bash script /tmp/largest_files.sh that takes a directory and a number N as arguments and prints the N largest files in that directory with their sizes.",
   "verify_cmd": "bash /tmp/largest_files.sh /usr/bin 3 | wc -l | grep -qE '[3-9]'",
   "description": "Top-N largest files script"},

  {"id": "scripting-09", "category": "scripting", "difficulty": "hard",
   "instruction": "Write a bash script /tmp/csv2json.sh that converts a CSV file to a JSON array. Test it by creating /tmp/test_convert.csv with headers name,age and two rows, then running the script and writing output to /tmp/converted.json.",
   "verify_cmd": "test -f /tmp/csv2json.sh && test -f /tmp/test_convert.csv && bash /tmp/csv2json.sh /tmp/test_convert.csv > /tmp/converted.json && python3 -c \"import json; d=json.load(open('/tmp/converted.json')); assert isinstance(d,list)\"",
   "description": "CSV to JSON converter script"},

  {"id": "scripting-10", "category": "scripting", "difficulty": "hard",
   "instruction": "Write a bash script /tmp/semver.sh that takes a version string like '1.2.3' and a bump type ('major', 'minor', or 'patch') and prints the bumped version. Example: bash /tmp/semver.sh 1.2.3 minor should print 1.3.0",
   "verify_cmd": "test \"$(bash /tmp/semver.sh 1.2.3 minor)\" = '1.3.0' && test \"$(bash /tmp/semver.sh 1.2.3 patch)\" = '1.2.4'",
   "description": "Semantic version bumper"},

  {"id": "image-gen-01", "category": "image-gen", "difficulty": "easy", "timeout": 300,
   "instruction": "Generate an image of a sunset over mountains and save it to /tmp/sunset.png",
   "verify_cmd": "test -f /tmp/sunset.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | head -1 | xargs test -f",
   "description": "Image generation via delegation to frederic/vixynt"},

  {"id": "image-gen-02", "category": "image-gen", "difficulty": "medium", "timeout": 300,
   "instruction": "Generate an image of a cat sitting on a windowsill and save it to /tmp/cat.png",
   "verify_cmd": "test -f /tmp/cat.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | head -1 | xargs test -f",
   "description": "Image generation - delegation + vixynt"},

  {"id": "image-gen-03", "category": "image-gen", "difficulty": "easy", "timeout": 300,
   "instruction": "Generate any image and save it to /tmp/generated.png",
   "verify_cmd": "test -f /tmp/generated.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | head -1 | xargs test -f",
   "description": "Basic image generation via delegation"},

  {"id": "image-gen-04", "category": "image-gen", "difficulty": "medium", "timeout": 300,
   "instruction": "Generate an image of a robot reading a book in a library and save it to /tmp/robot.png",
   "verify_cmd": "test -f /tmp/robot.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | tail -1 | xargs test -f",
   "description": "Detailed scene image generation"},

  {"id": "image-gen-05", "category": "image-gen", "difficulty": "hard", "timeout": 300,
   "instruction": "Generate an image of a futuristic city at night with neon lights and save it to /tmp/city.png",
   "verify_cmd": "test -f /tmp/city.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | tail -1 | xargs test -f",
   "description": "Complex scene image generation"},

  {"id": "audio-gen-01", "category": "audio-gen", "difficulty": "medium", "timeout": 300,
   "instruction": "Generate speech audio saying 'Hello, welcome to npcsh' and save it to /tmp/welcome.wav",
   "verify_cmd": "test -f /tmp/welcome.wav || test -f /tmp/welcome.mp3 || ls ~/.npcsh/audio/scherzo_*.wav 2>/dev/null | head -1 | xargs test -f",
   "description": "TTS via delegation to frederic/scherzo"},

  {"id": "audio-gen-02", "category": "audio-gen", "difficulty": "medium", "timeout": 300,
   "instruction": "Generate speech audio of the sentence 'The quick brown fox jumps over the lazy dog' and save it as /tmp/pangram.wav",
   "verify_cmd": "test -f /tmp/pangram.wav || test -f /tmp/pangram.mp3 || ls ~/.npcsh/audio/scherzo_*.wav 2>/dev/null | head -1 | xargs test -f",
   "description": "TTS pangram via delegation"},

  {"id": "audio-gen-03", "category": "audio-gen", "difficulty": "easy", "timeout": 300,
   "instruction": "Generate any speech audio and save it to /tmp/speech.wav",
   "verify_cmd": "test -f /tmp/speech.wav || test -f /tmp/speech.mp3 || ls ~/.npcsh/audio/scherzo_*.wav 2>/dev/null | tail -1 | xargs test -f",
   "description": "Basic TTS generation"},

  {"id": "audio-gen-04", "category": "audio-gen", "difficulty": "hard", "timeout": 300,
   "instruction": "Generate speech audio reading a haiku about nature and save it to /tmp/haiku.wav",
   "verify_cmd": "test -f /tmp/haiku.wav || test -f /tmp/haiku.mp3 || ls ~/.npcsh/audio/scherzo_*.wav 2>/dev/null | tail -1 | xargs test -f",
   "description": "Creative TTS generation"},

  {"id": "audio-gen-05", "category": "audio-gen", "difficulty": "medium", "timeout": 300,
   "instruction": "Generate speech audio saying 'Testing one two three' and save it to /tmp/test_audio.wav",
   "verify_cmd": "test -f /tmp/test_audio.wav || test -f /tmp/test_audio.mp3 || ls ~/.npcsh/audio/scherzo_*.wav 2>/dev/null | tail -1 | xargs test -f",
   "description": "Simple TTS test"},

  {"id": "web-search-01", "category": "web-search", "difficulty": "medium", "timeout": 180,
   "instruction": "Search the web for 'python asyncio tutorial' and write a summary of what you found to /tmp/search_results.txt",
   "verify_cmd": "test -s /tmp/search_results.txt && test $(wc -w < /tmp/search_results.txt) -ge 10",
   "description": "Web search and summarize"},

  {"id": "web-search-02", "category": "web-search", "difficulty": "easy", "timeout": 180,
   "instruction": "Search the web for who created Linux and save the answer to /tmp/linux_creator.txt",
   "verify_cmd": "test -s /tmp/linux_creator.txt",
   "description": "Web search - factual question"},

  {"id": "web-search-03", "category": "web-search", "difficulty": "medium", "timeout": 180,
   "instruction": "Search the web for the current population of Japan and write the answer to /tmp/japan_pop.txt",
   "verify_cmd": "test -s /tmp/japan_pop.txt",
   "description": "Web search - factual lookup"},

  {"id": "web-search-04", "category": "web-search", "difficulty": "easy", "timeout": 180,
   "instruction": "Search the web for what year Python was first released and write the answer to /tmp/python_year.txt",
   "verify_cmd": "test -s /tmp/python_year.txt",
   "description": "Web search - historical fact"},

  {"id": "web-search-05", "category": "web-search", "difficulty": "hard", "timeout": 180,
   "instruction": "Search the web for the top 3 most popular JavaScript frameworks in 2025 and write them to /tmp/js_frameworks.txt, one per line",
   "verify_cmd": "test -s /tmp/js_frameworks.txt && test $(wc -l < /tmp/js_frameworks.txt) -ge 3",
   "description": "Web search - ranked list"},

  {"id": "delegation-01", "category": "delegation", "difficulty": "medium", "timeout": 240,
   "instruction": "Delegate to a specialist to write a Python script at /tmp/primes.py that finds all prime numbers under 100 and prints them",
   "verify_cmd": "python3 /tmp/primes.py | grep -q '97'",
   "description": "Delegation for code task"},

  {"id": "delegation-02", "category": "delegation", "difficulty": "hard", "timeout": 300,
   "instruction": "Research what the Fibonacci sequence is, then create a Python script /tmp/fib_research.py that prints the first 15 Fibonacci numbers and a one-line comment explaining the sequence",
   "verify_cmd": "test -f /tmp/fib_research.py && python3 /tmp/fib_research.py | grep -q '610'",
   "description": "Research + code delegation chain"},

  {"id": "delegation-03", "category": "delegation", "difficulty": "medium", "timeout": 240,
   "instruction": "Delegate to a specialist to write a bash script /tmp/sysreport.sh that gathers hostname, uptime, disk usage, and memory info into /tmp/sysreport.txt. Then run it.",
   "verify_cmd": "test -f /tmp/sysreport.sh && bash /tmp/sysreport.sh && test -s /tmp/sysreport.txt",
   "description": "Delegation for system script"},

  {"id": "delegation-04", "category": "delegation", "difficulty": "hard", "timeout": 300,
   "instruction": "Delegate to an appropriate specialist to create a Python script /tmp/sorter.py that implements merge sort and tests it on the list [38, 27, 43, 3, 9, 82, 10].",
   "verify_cmd": "python3 /tmp/sorter.py | grep -q '3' && python3 /tmp/sorter.py | grep -q '82'",
   "description": "Delegation for algorithm implementation"},

  {"id": "delegation-05", "category": "delegation", "difficulty": "medium", "timeout": 240,
   "instruction": "Delegate to a specialist to create /tmp/validators.py with functions: is_email(s) that returns True for valid emails, and is_url(s) that returns True for valid URLs. Include test calls that print results.",
   "verify_cmd": "python3 /tmp/validators.py | grep -qi 'true\\|True'",
   "description": "Delegation for utility functions"},

  {"id": "tool-chain-01", "category": "tool-chain", "difficulty": "hard", "timeout": 300,
   "instruction": "Search the web for the top 5 most popular programming languages, save the results to /tmp/languages.txt, then create a Python script /tmp/rank.py that reads that file and prints the languages as a numbered list.",
   "verify_cmd": "test -s /tmp/languages.txt && python3 /tmp/rank.py | grep -qE '[0-9]'",
   "description": "Web search + file write + script chain"},

  {"id": "tool-chain-02", "category": "tool-chain", "difficulty": "hard", "timeout": 360,
   "instruction": "Generate an image of a forest and save it to /tmp/forest.png, then write a Python script /tmp/img_info.py that opens the image and prints its dimensions.",
   "verify_cmd": "(test -f /tmp/forest.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | head -1 | xargs test -f) && test -f /tmp/img_info.py",
   "description": "Image gen + code analysis chain"},

  {"id": "tool-chain-03", "category": "tool-chain", "difficulty": "hard", "timeout": 360,
   "instruction": "Search the web for the capital of Australia, save it to /tmp/capital.txt, then generate speech audio reading the answer and save to /tmp/capital_audio.wav.",
   "verify_cmd": "test -s /tmp/capital.txt && (test -f /tmp/capital_audio.wav || ls ~/.npcsh/audio/scherzo_*.wav 2>/dev/null | tail -1 | xargs test -f)",
   "description": "Web search + TTS chain"},

  {"id": "tool-chain-04", "category": "tool-chain", "difficulty": "hard", "timeout": 300,
   "instruction": "Write a Python script /tmp/fetch_parse.py that creates a JSON file /tmp/sample_api.json with mock API data (list of 5 products with name and price), then reads it and writes /tmp/cheapest.txt with the cheapest product name.",
   "verify_cmd": "python3 /tmp/fetch_parse.py && test -s /tmp/cheapest.txt",
   "description": "Data generation + processing chain"},

  {"id": "tool-chain-05", "category": "tool-chain", "difficulty": "hard", "timeout": 360,
   "instruction": "Generate an image of a dog, save to /tmp/dog.png, then create /tmp/gallery.html with an HTML page that displays the image with a caption.",
   "verify_cmd": "(test -f /tmp/dog.png || ls ~/.npcsh/images/vixynt_*.png 2>/dev/null | tail -1 | xargs test -f) && test -f /tmp/gallery.html && grep -qi 'img\\|image' /tmp/gallery.html",
   "description": "Image gen + HTML creation chain"}
]
